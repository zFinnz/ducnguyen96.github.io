<!doctype html><html lang=vi-vn>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> Nginx nền tảng: Cài đặt và cấu hình nginx cho website của bạn | Thỉnh thoảng đôi lời</title>
<link rel=canonical href=/posts/devops/nginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban/>
<meta name=description content="Là nơi chia sẻ lại những kiến thức, kinh nghiệm mình tiếp thu được trong quá trình học tập và làm việc. Và thỉnh thoảng cũng đăng một vài demo ngớ ngẩn nữa :smile:">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="Nginx nền tảng: Cài đặt và cấu hình nginx cho website của bạn">
<meta property="og:description" content="1. NGINX vs Apache Phần xử lý dynamic content không được nhúng hẳn vào nginx mà cần 1 process riêng để xử lý (chẳng hạn FPM), vì thế mà không giống như Apache thì phần server side sẽ không cần phải chạy khi có 1 request bất kỳ đến hệ thống. Nginx sẽ xử lý các static content mà không cần tới server side.
 Apache được cấu hình prefork: sinh ra 1 vài processes, mỗi process có thể xử lý duy nhất 1 request dừ request đấy dành cho script hay file ảnh.">
<meta property="og:type" content="article">
<meta property="og:url" content="/posts/devops/nginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-07-07T08:37:14+00:00">
<meta property="article:modified_time" content="2021-07-07T08:37:14+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Nginx nền tảng: Cài đặt và cấu hình nginx cho website của bạn">
<meta name=twitter:description content="1. NGINX vs Apache Phần xử lý dynamic content không được nhúng hẳn vào nginx mà cần 1 process riêng để xử lý (chẳng hạn FPM), vì thế mà không giống như Apache thì phần server side sẽ không cần phải chạy khi có 1 request bất kỳ đến hệ thống. Nginx sẽ xử lý các static content mà không cần tới server side.
 Apache được cấu hình prefork: sinh ra 1 vài processes, mỗi process có thể xử lý duy nhất 1 request dừ request đấy dành cho script hay file ảnh.">
<link rel=stylesheet href=/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N+XoIuZg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=/images/favicon.ico>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/categories>Categories</a></li>
<li><a href=/tags>Tags</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=/posts/devops/huong-dan-thue-aws/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=/posts/backend/docker-fundamentals/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&text=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&title=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&is_video=false&description=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n&body=Check out this article: %2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&title=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&title=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&name=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n&description=1.%20NGINX%20vs%20Apache%20Ph%e1%ba%a7n%20x%e1%bb%ad%20l%c3%bd%20dynamic%20content%20kh%c3%b4ng%20%c4%91%c6%b0%e1%bb%a3c%20nh%c3%bang%20h%e1%ba%b3n%20v%c3%a0o%20nginx%20m%c3%a0%20c%e1%ba%a7n%201%20process%20ri%c3%aang%20%c4%91%e1%bb%83%20x%e1%bb%ad%20l%c3%bd%20%28ch%e1%ba%b3ng%20h%e1%ba%a1n%20FPM%29%2c%20v%c3%ac%20th%e1%ba%bf%20m%c3%a0%20kh%c3%b4ng%20gi%e1%bb%91ng%20nh%c6%b0%20Apache%20th%c3%ac%20ph%e1%ba%a7n%20server%20side%20s%e1%ba%bd%20kh%c3%b4ng%20c%e1%ba%a7n%20ph%e1%ba%a3i%20ch%e1%ba%a1y%20khi%20c%c3%b3%201%20request%20b%e1%ba%a5t%20k%e1%bb%b3%20%c4%91%e1%ba%bfn%20h%e1%bb%87%20th%e1%bb%91ng.%20Nginx%20s%e1%ba%bd%20x%e1%bb%ad%20l%c3%bd%20c%c3%a1c%20static%20content%20m%c3%a0%20kh%c3%b4ng%20c%e1%ba%a7n%20t%e1%bb%9bi%20server%20side.%0a%20Apache%20%c4%91%c6%b0%e1%bb%a3c%20c%e1%ba%a5u%20h%c3%acnh%20prefork%3a%20sinh%20ra%201%20v%c3%a0i%20processes%2c%20m%e1%bb%97i%20process%20c%c3%b3%20th%e1%bb%83%20x%e1%bb%ad%20l%c3%bd%20duy%20nh%e1%ba%a5t%201%20request%20d%e1%bb%ab%20request%20%c4%91%e1%ba%a5y%20d%c3%a0nh%20cho%20script%20hay%20file%20%e1%ba%a3nh." aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&t=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#1-nginx-vs-apache>1. NGINX vs Apache</a></li>
<li><a href=#2-cài-đặt-nginx-với-package-manager>2. Cài đặt Nginx với Package manager</a></li>
<li><a href=#3-remove-nginx-and-its-dependencies>3. Remove Nginx and it&rsquo;s dependencies</a></li>
<li><a href=#4-bulding-nginx-from-source--adding-modules>4. Bulding Nginx from Source & Adding Modules</a></li>
<li><a href=#5-adding-an-nginx-service-as-a-systemd-service>5. Adding an NGINX service as a systemd service</a></li>
<li><a href=#6configuration>6.Configuration</a></li>
<li><a href=#7-creating-a-virtual-host>7. Creating a Virtual Host</a></li>
<li><a href=#8-location-blocks>8. Location Blocks</a></li>
<li><a href=#9-variables>9. Variables</a></li>
<li><a href=#10-rewrites-and-redirects>10. Rewrites and Redirects.</a></li>
<li><a href=#11-try-files--named-locations>11. Try Files & Named Locations</a></li>
<li><a href=#12-logging>12. Logging</a></li>
<li><a href=#13-thừa-kế-và-các-loại-directives>13. Thừa kế và các loại directives</a></li>
<li><a href=#14-php-processing>14. PHP processing</a></li>
<li><a href=#15-worker-processes>15. Worker processes</a></li>
<li><a href=#16-buffer-and-timeouts>16. Buffer and timeouts</a></li>
<li><a href=#17-adding-dynamic-modules>17. Adding dynamic modules</a></li>
<li><a href=#18-headers--expires>18. Headers & Expires</a></li>
<li><a href=#19-compressed-repsonses-with-gzip>19. Compressed Repsonses with gzip</a></li>
<li><a href=#20-fastcgi-cache>20. FastCGI Cache</a></li>
<li><a href=#21-http2>21. HTTP2</a></li>
<li><a href=#22-server-push>22. Server Push</a></li>
<li><a href=#23-httpsssl>23. HTTPS(SSL)</a></li>
<li><a href=#24-rate-limiting>24. Rate Limiting</a></li>
<li><a href=#25-hardening-nginx>25. Hardening Nginx</a></li>
<li><a href=#26-lets-encrypt---ssl-certificates>26. Let&rsquo;s Encrypt - SSL: Certificates</a></li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
Nginx nền tảng: Cài đặt và cấu hình nginx cho website của bạn
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2021-07-07 08:37:14 +0000 UTC" itemprop=datePublished>2021-07-07</time>
</div>
<div class=article-category>
<i class="fas fa-archive"></i>
<a class=category-link href=/categories/devops>devops</a>
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=/tags/devops rel=tag>devops</a>
,
<a class=tag-link href=/tags/nginx rel=tag>nginx</a>
,
<a class=tag-link href=/tags/web-server rel=tag>web server</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<h2 id=1-nginx-vs-apache>1. NGINX vs Apache</h2>
<p><img src=https://roadmap.fun/public/images/nginx.png alt="Nginx vs Apache">
Phần xử lý dynamic content không được nhúng hẳn vào nginx mà cần 1 process riêng để xử lý (chẳng hạn FPM), vì thế mà không giống như Apache thì phần server side sẽ không cần phải chạy khi có 1 request bất kỳ đến hệ thống. Nginx sẽ xử lý các static content mà không cần tới server side.</p>
<ol>
<li>Apache được cấu hình prefork: sinh ra 1 vài processes, mỗi process có thể xử lý duy nhất 1 request dừ request đấy dành cho script hay file ảnh.</li>
<li>Nginx thì ngược lại: 1 process xử lý đồng thời nhiều requests, con số thì tùy thuộc vào tài nguyên của máy. Chính vì được cấu hình xử lý đồng thời nên nó không thể nhúng được ngôn ngữ lập trình server side vào các processes của nó, nghĩa là với tất cả các requests yêu cầu nội dung động(dynamic) content) thì đều phải được xử lý với một process khác như FPM và sau đó <a href=https://www.nginx.com/resources/glossary/reverse-proxy-server/>reverse proxy</a> ngược tới client.</li>
<li>Nginx: URI locations vs Apache: filesystem locations.</li>
</ol>
<h2 id=2-cài-đặt-nginx-với-package-manager>2. Cài đặt Nginx với Package manager</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo apt-get update
sudo apt-get upgrade
sudo apt-get install nginx
</code></pre></div><p>Kiểm tra nginx hoạt động hay chưa</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ps aux | grep nginx
</code></pre></div><p>Với ps là list các processes, au là all-user, x là root processes</p>
<h2 id=3-remove-nginx-and-its-dependencies>3. Remove Nginx and it&rsquo;s dependencies</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo apt --purge autoremove nginx
</code></pre></div><h2 id=4-bulding-nginx-from-source--adding-modules>4. Bulding Nginx from Source & Adding Modules</h2>
<ol>
<li>Lợi ích của việc build Nginx from Source là khả năng có thể thêm modules mở rộng những function của Nginx, điều mà bạn không thể làm khi cài đặt Nginx từ package manager.</li>
<li>Nginx modules có 2 dạng (1 là đã đóng gói - bundled modules, 2 là các modules bên thứ 3 - third party modules). Bundled modules là những mô đun từ Nginx, chẳng hạn như HTTPS.</li>
</ol>
<p>Download <a href=https://nginx.org/en/download.html>source</a></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>wget http://nginx.org/download/nginx-1.21.0.tar.gz
</code></pre></div><p>Extract</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>tar -zxvf nginx-1.21.0.tar.gz
</code></pre></div><p>Get building tools</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo apt-get install build-essential
</code></pre></div><p>Configure</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>./configure
</code></pre></div><p><img src=https://roadmap.fun/public/images/configure-nginx-error.png alt="Missing PCRE">
Missing PCRE and how to install</p>
<p>Install missing libs and SSL lib</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo apt-get install libpcre3 libpcre3-dev zlib1g zlib1g-dev libssl-dev
</code></pre></div><p>Configure with configuration flags</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>./configure --sbin-path<span style=color:#f92672>=</span>/usr/bin/nginx --conf-path<span style=color:#f92672>=</span>/etc/nginx/nginx.conf --error-log-path<span style=color:#f92672>=</span>/var/log/nginx/error.log --http-log-path<span style=color:#f92672>=</span>/var/log/nginx/access.log --with-pcre --pid-path<span style=color:#f92672>=</span>/var/run/nginx.pid --with-http_ssl_module

</code></pre></div><p>Compile</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>make
</code></pre></div><p>Install</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>make install
</code></pre></div><p>Run Nginx</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo nginx
</code></pre></div><h2 id=5-adding-an-nginx-service-as-a-systemd-service>5. Adding an NGINX service as a systemd service</h2>
<p>Để Nginx có thể active ngay sau khi reboot thì ta thêm 1 systemd service vào máy.
Thêm service file</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo touch /lib/systemd/system/nginx.service
</code></pre></div><p>Dùng nano để edit file vừa tạo</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo nano /lib/systemd/system/nginx.service
</code></pre></div><p>Thêm vào file service vừa tạo như sau</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>[</span>Unit<span style=color:#f92672>]</span>
Description<span style=color:#f92672>=</span>The NGINX HTTP and reverse proxy server
After<span style=color:#f92672>=</span>syslog.target network-online.target remote-fs.target nss-lookup.target
Wants<span style=color:#f92672>=</span>network-online.target

<span style=color:#f92672>[</span>Service<span style=color:#f92672>]</span>
Type<span style=color:#f92672>=</span>forking
PIDFile<span style=color:#f92672>=</span>/var/run/nginx.pid
ExecStartPre<span style=color:#f92672>=</span>/usr/bin/nginx -t
ExecStart<span style=color:#f92672>=</span>/usr/bin/nginx
ExecReload<span style=color:#f92672>=</span>/usr/bin/nginx -s reload
ExecStop<span style=color:#f92672>=</span>/bin/kill -s QUIT $MAINPID
PrivateTmp<span style=color:#f92672>=</span>true

<span style=color:#f92672>[</span>Install<span style=color:#f92672>]</span>
WantedBy<span style=color:#f92672>=</span>multi-user.target
</code></pre></div><p>Chạy Nginx service</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo systemctl start nginx
</code></pre></div><p>Enable Nginx Service</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo systemctl enable nginx
</code></pre></div><h2 id=6configuration>6.Configuration</h2>
<ol>
<li>Có 2 thuật ngữ chính được dùng trong nginx là context và directive.</li>
<li>Directive(server_name mydomain.com) chứa tên(server_name) và giá trị context(mydomain.com).</li>
<li>Context là những sections mà các directives được cài dặt trong đó (giống như scope), context lồng nhau và thừa kế từ parents.</li>
</ol>
<h2 id=7-creating-a-virtual-host>7. Creating a Virtual Host</h2>
<p>Mỗi virtual host là 1 server context hay server block chịu trách nhiệm lắng nghe trên 1 cổng (port, 80 cho http và 443 cho https).</p>
<h2 id=8-location-blocks>8. Location Blocks</h2>
<p>Là context được sử dụng nhiều nhất trong nginx. Nó được dùng để chứa những config nhất định đối với từng url.
<img src=https://roadmap.fun/public/images/nginx--location_block.png alt="Location Blocks">
Có 4 loại match để nginx match 1 url và ưu tiên như sau:</p>
<ol>
<li>Exact Match =uri</li>
<li>Preferential Prefix Match ^~url</li>
<li>REGEX Match ~*uri</li>
<li>Prefix Match uri</li>
</ol>
<h2 id=9-variables>9. Variables</h2>
<p>Chú ý: Không nên sử dụng conditional trong location context.
<img src=https://roadmap.fun/public/images/nginx--variables.png alt=Variables>
Ở đây chúng ta có 2 loại biến: 1 là $mon được khai báo bằng tay, 2 là $date_local là biến được built in nginx.</p>
<h2 id=10-rewrites-and-redirects>10. Rewrites and Redirects.</h2>
<p><img src=https://roadmap.fun/public/images/nginx--redirects__rewrites.png alt=Rewrite></p>
<ol>
<li>Redirects đơn giản là bảo với client nên đi đến url này thay vì url kia và url trên thanh url của browser sẽ thay đổi.</li>
<li>Rewrites thì sẽ thay đổi url ngay bên trong nginx, kết quả là nginx sẽ trả về cho clients repsonse của 1 location block khác dù url trên thanh url của browser vẫn không thay đổi.</li>
<li>Lợi ích khi dùng rewrites là ta có thể capture url (line 14) và thay đổi url như mong muốn.</li>
</ol>
<h2 id=11-try-files--named-locations>11. Try Files & Named Locations</h2>
<p><img src=https://roadmap.fun/public/images/nginx--try__files.png alt="Try files">
Giải thích line 15: thử serve uri trước (root/$uri): không tồn tại thư mục &ndash;> root/cat.png: không tồn tại &ndash;> root/greet: không tồn tại thư mục &ndash;> re-evaluate @friendly_404 (với @ để name 1 location);</p>
<h2 id=12-logging>12. Logging</h2>
<p>Nginx hỗ trợ 2 loại log:</p>
<ol>
<li>error log (log mọi thứ mà xảy ra không như mong muốn )</li>
<li>access log (log tất cả requests đến server)
<img src=https://roadmap.fun/public/images/nginx--logging.png alt=Logging></li>
</ol>
<h2 id=13-thừa-kế-và-các-loại-directives>13. Thừa kế và các loại directives</h2>
<p><img src=https://roadmap.fun/public/images/nginx--directive__types.png alt=inherite>
Có 3 loại directives và các tính chất như hình trên</p>
<h2 id=14-php-processing>14. PHP processing</h2>
<p><img src=https://roadmap.fun/public/images/nginx--php__processing.png alt=php></p>
<ol>
<li>line 1: define user cho process.</li>
<li>line 16: try to serve index.php first nếu không tồn tại &ndash;> index.html.</li>
</ol>
<h2 id=15-worker-processes>15. Worker processes</h2>
<p>master process: chính là nginx.</p>
<p>worker process: là process lắng nghe client và response đến client.</p>
<p><img src=https://roadmap.fun/public/images/nginx--worker__process.png alt="worker process">
line 3: định nghĩa số processes mà nginx dùng (auto chính là bằng số cpu mà hệ thống có, nếu số này lớn hơn số cpu thì mỗi process của nginx sẽ hoạt động không hết công suất).</p>
<p>line 6: số connections đồng thời mà hệ thống có thể xử lý.
Kiểm tra số connection như sau:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ulimit -n
</code></pre></div><h2 id=16-buffer-and-timeouts>16. Buffer and timeouts</h2>
<p><img src=https://roadmap.fun/public/images/nginx--buffer__timeouts.png alt=buffer></p>
<h2 id=17-adding-dynamic-modules>17. Adding dynamic modules</h2>
<p><img src=https://roadmap.fun/public/images/nginx--add__module--1.png alt=dynamic>
Để thêm module thì chúng ta phải build lại nginx</p>
<h2 id=18-headers--expires>18. Headers & Expires</h2>
<p><img src=https://roadmap.fun/public/images/nginx--headers.png alt=Headers>
Expires Headers thông báo với browsers nó có thể cache response này trong bao lâu.</p>
<h2 id=19-compressed-repsonses-with-gzip>19. Compressed Repsonses with gzip</h2>
<p><img src=https://roadmap.fun/public/images/nginx--compressed__responsed__gzip.png alt=gzip>
Có nhiều cấp độ nén nhưng kể từ cấp độ 3 trở lên thì mức độ nén không thay đổi nhiều mà tốn nhiều tài nguyên hơn nên thường set 3-4 là hợp lý</p>
<h2 id=20-fastcgi-cache>20. FastCGI Cache</h2>
<p><img src=https://roadmap.fun/public/images/nginx--fastcgi__cache.png alt=FastCGI>
Cache lại response từ back-end.</p>
<h2 id=21-http2>21. HTTP2</h2>
<p>HTTP2 là Binary Protocol còn HTTP1 là Textual Protocol. HTTP2 giúp nén data cũng như giảm thiểu lỗi trong quá trình truyền tải dữ liệu.</p>
<p>Các tính chất của HTTP2:</p>
<ol>
<li>Binary Protocol</li>
<li>Compressed Headers</li>
<li>Persistent Connections</li>
<li>Multiplex Streaming</li>
<li>Server Push
Để enable HTTP2 thì ta cần phải rebuild lại cùng ssl module và http 2 module.</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>./configure --sbin-path<span style=color:#f92672>=</span>/usr/bin/nginx --conf-path<span style=color:#f92672>=</span>/etc/nginx/nginx.conf --error-log-path<span style=color:#f92672>=</span>/var/log/nginx/error.log --http-log-path<span style=color:#f92672>=</span>/var/log/nginx/access.log --with-pcre --pid-path<span style=color:#f92672>=</span>/var/run/nginx.pid --with-http_ssl_module --modules-path<span style=color:#f92672>=</span>/etc/nginx/modules --with-http_v2_module
</code></pre></div><p>Tự reg ssl bằng openssl.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo mkdir /etc/nginx/ssl
sudo openssl req -x509 -days <span style=color:#ae81ff>10</span> -nodes -newkey rsa:2048 -keyout /etc/nginx/ssl/self.key -out /etc/nginx/ssl/self.crt
</code></pre></div><p><img src=https://roadmap.fun/public/images/nginx--http2.png alt=http2></p>
<h2 id=22-server-push>22. Server Push</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>location <span style=color:#f92672>=</span> /index.html <span style=color:#f92672>{</span>
  http2_push /style.css;
  http2_push /thumb.png;
<span style=color:#f92672>}</span>
</code></pre></div><h2 id=23-httpsssl>23. HTTPS(SSL)</h2>
<p><img src=https://roadmap.fun/public/images/nginx--https.png alt=ssl></p>
<ol>
<li><a href=https://www.ssl.com/faqs/faq-what-is-ssl/>SSL</a> được thay thế gần như hoàn toàn bằng <a href=https://en.wikipedia.org/wiki/Transport_Layer_Security#SSL_1.0,_2.0,_and_3.0>TLS</a>.</li>
<li><a href=https://en.wikipedia.org/wiki/Cipher_suite>SSl Cipher</a> là tổ hợp những thuật toán giúp kết nối mạng được an toàn hơn.</li>
<li><a href=https://wiki.openssl.org/index.php/Diffie-Hellman_parameters>Diffie-Hellman parameters</a>. Để có dhparams thì ta gen nó bằng openssl. Lưu ý: 2048 là rsa:2048 lúc gen ssl.</li>
<li><a href=https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security>HSTS: HTTP Strict Transport Security</a>.</li>
</ol>
<h2 id=24-rate-limiting>24. Rate Limiting</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>http <span style=color:#f92672>{</span>
  include mime.types

  <span style=color:#75715e># Define limit zone</span>
  limit_req_zone $request_uri zone<span style=color:#f92672>=</span>MYZONE:10m rate 1r/s;
<span style=color:#f92672>}</span>
</code></pre></div><p>line 14: Định nghĩa 1 zone giới hạn request đối với request uri, zone này có tên là MYZONE với kích thời là 10mb, giới hạn 1 request mỗi giây.</p>
<p>line 55: Với location / thì cài đặt giới hạn với vùng giới hạn là MYZONE, burst 5 nghĩa nếu trong 1 giây đầu tiên, có thêm 5 request đến thì 5 request này không bị reject ngay mà được đặt vào hàng chờ để sau đó cứ mỗi giây thì giải quyết 1 request ở hàng đợi này. param nodelay cho phép resolve các burst connection này nhanh nhất có thể và không chịu delay 1r/s.</p>
<h2 id=25-hardening-nginx>25. Hardening Nginx</h2>
<p>Giấu phiên bản nginx đang sử dụng</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>server_tokens off;
</code></pre></div><p>Rebuild nginx với tag &ndash;without các module không cần thiết, chẳng hạn: http_autoindex_module</p>
<h2 id=26-lets-encrypt---ssl-certificates>26. Let&rsquo;s Encrypt - SSL: Certificates</h2>
<p>Cài đặt Cerbot cho <a href=https://certbot.eff.org/lets-encrypt/debianbuster-nginx>Debian:buster</a>
Revew Certs</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>certbot renew
</code></pre></div><p>Revew Certs khi chưa hết hạn</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>certbot renew --dry-run
</code></pre></div><p>Cronjob renew certs</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>crontab -e
</code></pre></div><p>Chọn edit với nano vào thêm job</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>@daily certbot renew
</code></pre></div>
</div>
</article>
<div class=blog-post-comments>
<div id=disqus_thread>
<script type=text/javascript>(function(){var a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,b='ducnguyen96',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
</div>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/categories>Categories</a></li>
<li><a href=/tags>Tags</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li><a href=#1-nginx-vs-apache>1. NGINX vs Apache</a></li>
<li><a href=#2-cài-đặt-nginx-với-package-manager>2. Cài đặt Nginx với Package manager</a></li>
<li><a href=#3-remove-nginx-and-its-dependencies>3. Remove Nginx and it&rsquo;s dependencies</a></li>
<li><a href=#4-bulding-nginx-from-source--adding-modules>4. Bulding Nginx from Source & Adding Modules</a></li>
<li><a href=#5-adding-an-nginx-service-as-a-systemd-service>5. Adding an NGINX service as a systemd service</a></li>
<li><a href=#6configuration>6.Configuration</a></li>
<li><a href=#7-creating-a-virtual-host>7. Creating a Virtual Host</a></li>
<li><a href=#8-location-blocks>8. Location Blocks</a></li>
<li><a href=#9-variables>9. Variables</a></li>
<li><a href=#10-rewrites-and-redirects>10. Rewrites and Redirects.</a></li>
<li><a href=#11-try-files--named-locations>11. Try Files & Named Locations</a></li>
<li><a href=#12-logging>12. Logging</a></li>
<li><a href=#13-thừa-kế-và-các-loại-directives>13. Thừa kế và các loại directives</a></li>
<li><a href=#14-php-processing>14. PHP processing</a></li>
<li><a href=#15-worker-processes>15. Worker processes</a></li>
<li><a href=#16-buffer-and-timeouts>16. Buffer and timeouts</a></li>
<li><a href=#17-adding-dynamic-modules>17. Adding dynamic modules</a></li>
<li><a href=#18-headers--expires>18. Headers & Expires</a></li>
<li><a href=#19-compressed-repsonses-with-gzip>19. Compressed Repsonses with gzip</a></li>
<li><a href=#20-fastcgi-cache>20. FastCGI Cache</a></li>
<li><a href=#21-http2>21. HTTP2</a></li>
<li><a href=#22-server-push>22. Server Push</a></li>
<li><a href=#23-httpsssl>23. HTTPS(SSL)</a></li>
<li><a href=#24-rate-limiting>24. Rate Limiting</a></li>
<li><a href=#25-hardening-nginx>25. Hardening Nginx</a></li>
<li><a href=#26-lets-encrypt---ssl-certificates>26. Let&rsquo;s Encrypt - SSL: Certificates</a></li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&text=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&title=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&is_video=false&description=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n&body=Check out this article: %2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&title=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&title=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&name=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n&description=1.%20NGINX%20vs%20Apache%20Ph%e1%ba%a7n%20x%e1%bb%ad%20l%c3%bd%20dynamic%20content%20kh%c3%b4ng%20%c4%91%c6%b0%e1%bb%a3c%20nh%c3%bang%20h%e1%ba%b3n%20v%c3%a0o%20nginx%20m%c3%a0%20c%e1%ba%a7n%201%20process%20ri%c3%aang%20%c4%91%e1%bb%83%20x%e1%bb%ad%20l%c3%bd%20%28ch%e1%ba%b3ng%20h%e1%ba%a1n%20FPM%29%2c%20v%c3%ac%20th%e1%ba%bf%20m%c3%a0%20kh%c3%b4ng%20gi%e1%bb%91ng%20nh%c6%b0%20Apache%20th%c3%ac%20ph%e1%ba%a7n%20server%20side%20s%e1%ba%bd%20kh%c3%b4ng%20c%e1%ba%a7n%20ph%e1%ba%a3i%20ch%e1%ba%a1y%20khi%20c%c3%b3%201%20request%20b%e1%ba%a5t%20k%e1%bb%b3%20%c4%91%e1%ba%bfn%20h%e1%bb%87%20th%e1%bb%91ng.%20Nginx%20s%e1%ba%bd%20x%e1%bb%ad%20l%c3%bd%20c%c3%a1c%20static%20content%20m%c3%a0%20kh%c3%b4ng%20c%e1%ba%a7n%20t%e1%bb%9bi%20server%20side.%0a%20Apache%20%c4%91%c6%b0%e1%bb%a3c%20c%e1%ba%a5u%20h%c3%acnh%20prefork%3a%20sinh%20ra%201%20v%c3%a0i%20processes%2c%20m%e1%bb%97i%20process%20c%c3%b3%20th%e1%bb%83%20x%e1%bb%ad%20l%c3%bd%20duy%20nh%e1%ba%a5t%201%20request%20d%e1%bb%ab%20request%20%c4%91%e1%ba%a5y%20d%c3%a0nh%20cho%20script%20hay%20file%20%e1%ba%a3nh." aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=%2fposts%2fdevops%2fnginx-nen-tang-cai-dat-va-cau-hinh-nginx-cho-website-cua-ban%2f&t=Nginx%20n%e1%bb%81n%20t%e1%ba%a3ng%3a%20C%c3%a0i%20%c4%91%e1%ba%b7t%20v%c3%a0%20c%e1%ba%a5u%20h%c3%acnh%20nginx%20cho%20website%20c%e1%bb%a7a%20b%e1%ba%a1n" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021 ducnguyen96
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/categories>Categories</a></li>
<li><a href=/tags>Tags</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>
</html>
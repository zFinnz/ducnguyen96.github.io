<!doctype html><html lang=vi-vn>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> ACID trong cÆ¡ sá»Ÿ dá»¯ liá»‡u | Thá»‰nh thoáº£ng Ä‘Ã´i lá»i</title>
<link rel=canonical href=/posts/databases/acid-in-dbms/>
<meta name=description content="LÃ  nÆ¡i chia sáº» láº¡i nhá»¯ng kiáº¿n thá»©c, kinh nghiá»‡m mÃ¬nh tiáº¿p thu Ä‘Æ°á»£c trong quÃ¡ trÃ¬nh há»c táº­p vÃ  lÃ m viá»‡c. VÃ  thá»‰nh thoáº£ng cÅ©ng Ä‘Äƒng má»™t vÃ i demo ngá»› ngáº©n ná»¯a :smile:">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="ACID trong cÆ¡ sá»Ÿ dá»¯ liá»‡u">
<meta property="og:description" content="Transaction lÃ  má»™t Ä‘Æ¡n vá»‹ logic nÃ³ thá»±c hiá»‡n viá»‡c truy xuáº¥t vÃ  chá»‰nh sá»­a ná»™i dung cá»§a database. Äá»ƒ duy trÃ¬ tÃ­nh thá»‘ng nháº¥t cáº£ database trÆ°á»›c vÃ  sau khi thá»±c hiá»‡n transaction thÃ¬ cáº§n tuÃ¢n theo má»™t sá»‘ tÃ­nh cháº¥t vÃ  Ä‘Æ°á»£c viáº¿t táº¯t lÃ  ACID
Atomicity (/Ã¦t.É™ËˆmÉªs.Éª.ti/) YÃªu cáº§u transaction pháº£i thá»±c hiá»‡n 1 cÃ¡ch hoÃ n chá»‰nh hoáº·c lÃ  khÃ´ng thá»±c hiá»‡n, chá»© khÃ´ng cÃ³ viá»‡c chá»‰ thá»±c hiá»‡n 1 pháº§n.">
<meta property="og:type" content="article">
<meta property="og:url" content="/posts/databases/acid-in-dbms/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-08-24T10:00:27+00:00">
<meta property="article:modified_time" content="2021-08-24T10:00:27+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="ACID trong cÆ¡ sá»Ÿ dá»¯ liá»‡u">
<meta name=twitter:description content="Transaction lÃ  má»™t Ä‘Æ¡n vá»‹ logic nÃ³ thá»±c hiá»‡n viá»‡c truy xuáº¥t vÃ  chá»‰nh sá»­a ná»™i dung cá»§a database. Äá»ƒ duy trÃ¬ tÃ­nh thá»‘ng nháº¥t cáº£ database trÆ°á»›c vÃ  sau khi thá»±c hiá»‡n transaction thÃ¬ cáº§n tuÃ¢n theo má»™t sá»‘ tÃ­nh cháº¥t vÃ  Ä‘Æ°á»£c viáº¿t táº¯t lÃ  ACID
Atomicity (/Ã¦t.É™ËˆmÉªs.Éª.ti/) YÃªu cáº§u transaction pháº£i thá»±c hiá»‡n 1 cÃ¡ch hoÃ n chá»‰nh hoáº·c lÃ  khÃ´ng thá»±c hiá»‡n, chá»© khÃ´ng cÃ³ viá»‡c chá»‰ thá»±c hiá»‡n 1 pháº§n.">
<link rel=stylesheet href=/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N+XoIuZg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=/images/favicon.ico>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/categories>Categories</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/projects/cv>CV</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=/posts/os/snap-in-a-nutshell/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=/posts/databases/transaction-in-a-nutshell/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=%2fposts%2fdatabases%2facid-in-dbms%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=%2fposts%2fdatabases%2facid-in-dbms%2f&text=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=%2fposts%2fdatabases%2facid-in-dbms%2f&title=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2fdatabases%2facid-in-dbms%2f&is_video=false&description=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u&body=Check out this article: %2fposts%2fdatabases%2facid-in-dbms%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=%2fposts%2fdatabases%2facid-in-dbms%2f&title=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=%2fposts%2fdatabases%2facid-in-dbms%2f&title=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=%2fposts%2fdatabases%2facid-in-dbms%2f&name=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u&description=Transaction%20l%c3%a0%20m%e1%bb%99t%20%c4%91%c6%a1n%20v%e1%bb%8b%20logic%20n%c3%b3%20th%e1%bb%b1c%20hi%e1%bb%87n%20vi%e1%bb%87c%20truy%20xu%e1%ba%a5t%20v%c3%a0%20ch%e1%bb%89nh%20s%e1%bb%ada%20n%e1%bb%99i%20dung%20c%e1%bb%a7a%20database.%20%c4%90%e1%bb%83%20duy%20tr%c3%ac%20t%c3%adnh%20th%e1%bb%91ng%20nh%e1%ba%a5t%20c%e1%ba%a3%20database%20tr%c6%b0%e1%bb%9bc%20v%c3%a0%20sau%20khi%20th%e1%bb%b1c%20hi%e1%bb%87n%20transaction%20th%c3%ac%20c%e1%ba%a7n%20tu%c3%a2n%20theo%20m%e1%bb%99t%20s%e1%bb%91%20t%c3%adnh%20ch%e1%ba%a5t%20v%c3%a0%20%c4%91%c6%b0%e1%bb%a3c%20vi%e1%ba%bft%20t%e1%ba%aft%20l%c3%a0%20ACID%0aAtomicity%20%28%2f%c3%a6t.%c9%99%cb%88m%c9%aas.%c9%aa.ti%2f%29%20Y%c3%aau%20c%e1%ba%a7u%20transaction%20ph%e1%ba%a3i%20th%e1%bb%b1c%20hi%e1%bb%87n%201%20c%c3%a1ch%20ho%c3%a0n%20ch%e1%bb%89nh%20ho%e1%ba%b7c%20l%c3%a0%20kh%c3%b4ng%20th%e1%bb%b1c%20hi%e1%bb%87n%2c%20ch%e1%bb%a9%20kh%c3%b4ng%20c%c3%b3%20vi%e1%bb%87c%20ch%e1%bb%89%20th%e1%bb%b1c%20hi%e1%bb%87n%201%20ph%e1%ba%a7n." aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=%2fposts%2fdatabases%2facid-in-dbms%2f&t=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#atomicity-Ã¦tÉ™ËˆmÉªsÉªti>Atomicity (/Ã¦t.É™ËˆmÉªs.Éª.ti/)</a></li>
<li><a href=#isolation>Isolation</a>
<ul>
<li><a href=#read-phenomena>Read phenomena</a></li>
<li><a href=#isolation-levels-for-inflight-transaction-performance-sáº½-bá»‹-giáº£m-dáº§n-theo-cÃ¡c-levels-dÆ°á»›i-Ä‘Ã¢y-cÃ²n-Ä‘á»™-phá»©c-táº¡p-thÃ¬-ngÆ°á»£c-láº¡i>Isolation levels for inflight transaction: performance sáº½ bá»‹ giáº£m dáº§n theo cÃ¡c levels dÆ°á»›i Ä‘Ã¢y cÃ²n Ä‘á»™ phá»©c táº¡p thÃ¬ ngÆ°á»£c láº¡i.</a></li>
</ul>
</li>
<li><a href=#consistency>Consistency</a>
<ul>
<li><a href=#consistency-in-dat>Consistency in Dat</a></li>
<li><a href=#consistency-in-reads>Consistency in reads</a></li>
</ul>
</li>
<li><a href=#durability>Durability</a></li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
ACID trong cÆ¡ sá»Ÿ dá»¯ liá»‡u
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2021-08-24 10:00:27 +0000 UTC" itemprop=datePublished>2021-08-24</time>
</div>
<div class=article-category>
<i class="fas fa-archive"></i>
<a class=category-link href=/categories/database>database</a>
,
<a class=category-link href=/categories/backend>backend</a>
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=/tags/acid rel=tag>acid</a>
,
<a class=tag-link href=/tags/database rel=tag>database</a>
,
<a class=tag-link href=/tags/db rel=tag>db</a>
,
<a class=tag-link href=/tags/atomicity rel=tag>atomicity</a>
,
<a class=tag-link href=/tags/isolation rel=tag>isolation</a>
,
<a class=tag-link href=/tags/read-phenomeno rel=tag>read phenomeno</a>
,
<a class=tag-link href=/tags/consistency rel=tag>consistency</a>
,
<a class=tag-link href=/tags/eventual-consistency rel=tag>eventual consistency</a>
,
<a class=tag-link href=/tags/backend rel=tag>backend</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<p><strong>Transaction lÃ  má»™t Ä‘Æ¡n vá»‹ logic nÃ³ thá»±c hiá»‡n viá»‡c truy xuáº¥t vÃ  chá»‰nh sá»­a ná»™i dung cá»§a database. Äá»ƒ duy trÃ¬ tÃ­nh thá»‘ng nháº¥t cáº£ database trÆ°á»›c vÃ  sau khi thá»±c hiá»‡n transaction thÃ¬ cáº§n tuÃ¢n theo má»™t sá»‘ tÃ­nh cháº¥t vÃ  Ä‘Æ°á»£c viáº¿t táº¯t lÃ  ACID</strong></p>
<h2 id=atomicity-Ã¦tÉ™ËˆmÉªsÉªti>Atomicity (/Ã¦t.É™ËˆmÉªs.Éª.ti/)</h2>
<p>YÃªu cáº§u transaction pháº£i thá»±c hiá»‡n 1 cÃ¡ch hoÃ n chá»‰nh hoáº·c lÃ  khÃ´ng thá»±c hiá»‡n, chá»© khÃ´ng cÃ³ viá»‡c chá»‰ thá»±c hiá»‡n 1 pháº§n.</p>
<p>NÃ³ liÃªn quan Ä‘áº¿n 2 thá»©:</p>
<ul>
<li><strong>Abort</strong>: Náº¿u 1 transaction bá»‹ há»§y bá» thÃ¬ nhá»¯ng thay Ä‘á»•i Ä‘Ã£ Ä‘Æ°á»£c thá»±c hiá»‡n sáº½ khÃ´ng cÃ²n ná»¯a.</li>
<li><strong>Commit</strong>: Náº¿u 1 transaction Ä‘Æ°á»£c commit thÃ¬ nhá»¯ng thay Ä‘á»•i sáº½ Ä‘Æ°á»£c ghi láº¡i.</li>
</ul>
<p>2 tÃ­nh cháº¥t nÃ y nÃ³ liÃªn quan cháº·t cháº½ Ä‘áº¿n nhau.</p>
<p>VÃ­ dá»¥ báº¡n cÃ³ 2 table: <code>product_templates</code> vÃ  <code>products</code> vá»›i relation lÃ  <code>One-To-Many</code> 1 product template cÃ³ nhiá»u products con. product_template cÃ³ 1 trÆ°á»ng lÃ  <code>min_price</code> lÃ  giÃ¡ trá»‹ tháº¥p nháº¥t trong táº¥t cáº£ cÃ¡c <code>price</code> lÃ  thuá»™c tÃ­nh cá»§a products.</p>
<p>Ta thá»±c hiá»‡n 1 transaction thá»±c hiá»‡n 2 viá»‡c lÃ  <code>delete product</code> vÃ  <code>update min_price</code>. Náº¿u transaction Ä‘Ã³ sau khi thá»±c hiá»‡n viá»‡c delete product vÃ  bá»‹ lá»—i thÃ¬ data sáº½ khÃ´ng cÃ²n Ä‘Ãºng ná»¯a.</p>
<h2 id=isolation>Isolation</h2>
<p>Thuá»™c tÃ­nh nÃ y Ä‘áº£m báº£o ráº±ng cÃ³ nhiá»u transaction cÃ³ thá»ƒ thá»±c hiá»‡n Ä‘á»“ng thá»i mÃ  khÃ´ng dáº«n Ä‘áº¿n database khÃ´ng cÃ²n nháº¥t quÃ¡n. CÃ¡c transactions pháº£i Ä‘Æ°á»£c thá»±c thi má»™t cÃ¡ch Ä‘á»™c láº­p mÃ  khÃ´ng cÃ³ báº¥t cá»© sá»± can thiá»‡p nÃ o. Nhá»¯ng thay Ä‘á»•i tá»« 1 transaction thÃ¬ sáº½ khÃ´ng Ä‘Æ°á»£c tháº¥y á»Ÿ cÃ¡c transcations khÃ¡c cho Ä‘áº¿n khi nhá»¯ng thay Ä‘á»•i áº¥y Ä‘Æ°á»£c ghi vÃ o bá»™ nhá»› hoáº·c Ä‘Ã£ Ä‘Æ°á»£c commited.</p>
<p>VÃ­ dá»¥: ta cÃ³ X = 10, Y = 5 vÃ  2 transaction T vÃ  T'</p>
<table>
<thead>
<tr>
<th style=text-align:center>T</th>
<th style=text-align:center>T'</th>
</tr>
</thead>
<tbody>
<tr>
<td style=text-align:center>Read(X)</td>
<td style=text-align:center>Read(X)</td>
</tr>
<tr>
<td style=text-align:center>X:= X*10</td>
<td style=text-align:center>Read(Y)</td>
</tr>
<tr>
<td style=text-align:center>Write(X)</td>
<td style=text-align:center>Z:=X+Y</td>
</tr>
<tr>
<td style=text-align:center>Read(Y)</td>
<td style=text-align:center>Write(Z)</td>
</tr>
<tr>
<td style=text-align:center>Y:=Y-2</td>
<td></td>
</tr>
<tr>
<td style=text-align:center>Write(Y)</td>
<td></td>
</tr>
</tbody>
</table>
<p>á» vÃ­ dá»¥ trÃªn náº¿u transaction T thá»±c hiá»‡n xong bÆ°á»›c Write(X) vÃ  transaction T' báº¯t Ä‘áº§u, náº¿u khÃ´ng Ä‘áº£m báº£o tÃ­nh cÃ´ láº­p cá»§a cÃ¡c transaction thÃ¬ X á»Ÿ T' sáº½ cÃ³ giÃ¡ trá»‹ lÃ  100 dáº«n tá»›i Z = 100 + 5 = 105. TrÆ°á»ng há»£p T khÃ´ng commit mÃ  rollback thÃ¬ sáº½ dáº«n Ä‘áº¿n X quay láº¡i lÃ  10 vÃ  Z sáº½ sai.</p>
<ol>
<li>Can my inflight transaction see changes made by other transactions ?
Äiá»u nÃ y cÃ²n tÃ¹y thuá»™c vÃ o developer, cháº³ng háº¡n nhÆ° vÃ­ dá»¥ á»Ÿ trÃªn náº¿u khÃ´ng cÃ³ isolation nÃ o thÃ¬ T' sáº½ Read(X) vá»›i giÃ¡ trá»‹ khÃ´ng mong muá»‘n.</li>
<li>Read phenomena: khi thiáº¿u isolation nhÆ° vÃ­ dá»¥ á»Ÿ trÃªn thÃ¬ sáº½ dáº«n tá»›i viá»‡c Read 1 giÃ¡ trá»‹ nÃ o Ä‘áº¥y khÃ´ng Ä‘Ãºng ná»¯a.</li>
<li>Isolation Levels: Äá»ƒ trÃ¡nh Read phenomena thÃ¬ ta sáº½ thá»±c hiá»‡n isolation cho transaction.</li>
</ol>
<h3 id=read-phenomena>Read phenomena</h3>
<ul>
<li>Dirty reads: giá»‘ng nhÆ° vÃ­ dá»¥ Ä‘Ã£ nÃªu á»Ÿ trÃªn, T' Ä‘á»c X chÆ°a Ä‘Æ°á»£c commit.</li>
<li>Non-repeatable reads: read COMMITTED data from an UPDATE query from another transaction, trong cÃ¹ng 1 transaction khi READ 1 giÃ¡ trá»‹ vÃ  nháº­n Ä‘Æ°á»£c 2 káº¿t quáº£ khÃ¡c nhau.
<img src=/images/iPI0C.png alt=non-repeatable-reads>. LÆ°u Ã½: Äá»‘i vá»›i háº§u háº¿t cÃ¡c platform khÃ¡c ngoáº¡i trá»« Postgres. Repeatable read isolation level chá»‰ cháº¯c cháº¯n lÃ  nÃ³ chá»‰ Ä‘á»c nhá»¯ng giÃ¡ trá»‹ Ä‘Ã£ commit mÃ  khÃ´ng thay Ä‘á»•i. CÃ²n náº¿u xáº£y ra phantom reads thÃ¬ giÃ¡ trá»‹ Ä‘áº¥y váº«n Ä‘Æ°á»£c Ä‘á»c.</li>
<li>Phantom reads: read COMMITTED data from an INSERT or DELETE query from another transaction, trong cÃ¹ng 1 transaction khi READ láº§n 1 láº¥y sá»‘ lÆ°á»£ng Product Ä‘Æ°á»£c 3, cÃ¹ng khi Ä‘Ã³ thÃ¬ cÃ³ 1 transaction khÃ¡c insert hoáº·c delete 1 products vÃ  READ láº§n 2 nháº­n Ä‘Æ°á»£c 1 káº¿t quáº£ khÃ¡c.
<img src=/images/aCtew.png alt=phantom-read>.</li>
</ul>
<h3 id=isolation-levels-for-inflight-transaction-performance-sáº½-bá»‹-giáº£m-dáº§n-theo-cÃ¡c-levels-dÆ°á»›i-Ä‘Ã¢y-cÃ²n-Ä‘á»™-phá»©c-táº¡p-thÃ¬-ngÆ°á»£c-láº¡i>Isolation levels for inflight transaction: performance sáº½ bá»‹ giáº£m dáº§n theo cÃ¡c levels dÆ°á»›i Ä‘Ã¢y cÃ²n Ä‘á»™ phá»©c táº¡p thÃ¬ ngÆ°á»£c láº¡i.</h3>
<p><img src=/images/Isolation_levels_vs_read_phenomena.png alt="Isolation levels vs read phenomena.png"></p>
<ul>
<li><strong>Read uncommitted</strong>: No Isolation, táº¥t cáº£ nhá»¯ng thay Ä‘á»•i tá»« bÃªn ngoÃ i thÃ¬ Ä‘á»u Ä‘Æ°á»£c transaction tháº¥y.</li>
<li><strong>Read commited</strong>: Má»—i query trong 1 transaction Ä‘á»u chá»‰ tháº¥y nhá»¯ng thay Ä‘á»•i Ä‘Ã£ Ä‘Æ°á»£c committed.</li>
<li><strong>Repeatable Read</strong>: Má»—i query trong 1 transaction chá»‰ tháº¥y nhá»¯ng committed updates trÆ°á»›c khi báº¯t Ä‘áº§u transcation.</li>
<li><strong>Serializable</strong>: Transactions bá»‹ tuáº§n tá»± hÃ³a, nghÄ©a lÃ  sáº½ Ä‘Æ°á»£c thá»±c thi ngay sau transaction trá»©c hoÃ n thÃ nh.</li>
</ul>
<h2 id=consistency>Consistency</h2>
<h3 id=consistency-in-dat>Consistency in Dat</h3>
<p>ÄÆ°á»£c Ä‘iá»u chá»‰nh bá»Ÿi user vÃ  Ä‘Æ°á»£c cá»§ng cá»‘ báº±ng cÃ¡ch thÃªm cÃ¡c primary keys, foreign keys.</p>
<p>VÃ¬ sao user láº¡i Ä‘iá»u chá»‰nh mÃ  khÃ´ng pháº£i Ä‘áº·t máº·c Ä‘á»‹nh lÃºc nÃ o database cÅ©ng pháº£i cháº·t cháº½, chÃ­nh xÃ¡c nháº¥t â“</p>
<p>VÃ¬ á»Ÿ má»™t sá»‘ trÆ°á»ng há»£p thÃ¬ cÃ³ developer cÃ³ thá»ƒ cho phÃ©p sai sá»‘ nhá» Ä‘á»ƒ Ä‘á»•i láº¥y performance.</p>
<h3 id=consistency-in-reads>Consistency in reads</h3>
<ol>
<li>Náº¿u má»™t transaction change database vÃ  commit thÃ¬ 1 transaction má»›i cÃ³ ngay láº­p tá»©c tháº¥y Ä‘Æ°á»£c change Ä‘Ã³ khÃ´ng ?</li>
</ol>
<ul>
<li>Äiá»u nÃ y cÃ²n tÃ¹y thuá»™c. Náº¿u báº¡n chá»‰ dÃ¹ng 1 database thÃ¬ Ä‘iá»u á»Ÿ trÃªn lÃ  Ä‘Ãºng. CÃ²n náº¿u báº¡n muá»‘n horizontal scale thÃ¬ báº¯t buá»™c báº¡n pháº£i cÃ³ nhiá»u replica database vÃ  1 primary database. LÃºc nÃ y transaction Ä‘Æ°á»£c commit sáº½ thay Ä‘á»•i primary database vÃ  sáº½ máº¥t thá»i gian Ä‘á»ƒ update cÃ¡c replica, náº¿u sau khi transaction Ä‘Æ°á»£c commit mÃ  cÃ³ 1 transaction má»›i thá»±c hiá»‡n viá»‡c read tá»« replica thÃ¬ transaction Ä‘Ã³ sáº½ nháº­n Ä‘Æ°á»£c data cÅ©.</li>
</ul>
<ol start=2>
<li>Cáº£ relational vÃ  NoSQL database Ä‘á»u bá»‹ áº£nh hÆ°á»Ÿng.</li>
<li>Äiá»u nÃ y Ä‘Æ°á»£c gá»i lÃ  eventual consitency.</li>
</ol>
<h2 id=durability>Durability</h2>
<p>TÃ­nh cháº¥t nÃ y Ä‘áº£m báº£o ráº±ng 1 khi mÃ  transaction Ä‘Ã£ thá»±c thi xong thÃ¬ nhá»¯ng thay Ä‘á»•i Ä‘áº¿n database sáº½ Ä‘Æ°á»£c ghi vÃ o á»• Ä‘Ä©a vÃ  chÃºng váº«n sáº½ Ä‘Æ°á»£c dá»¯ ngay cáº£ khi cÃ³ 1 lá»—i há»‡ thá»‘ng xáº£y ra cháº³ng háº¡n nhÆ° lá»—i pháº§n má»m hoáº·c lÃ  máº¥t Ä‘iá»‡n ğŸ˜¢. (Committed Data is never lost)</p>
</div>
</article>
<div class=blog-post-comments>
<div id=disqus_thread>
<script type=text/javascript>(function(){var a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,b='ducnguyen96',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
</div>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/categories>Categories</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/projects/cv>CV</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li><a href=#atomicity-Ã¦tÉ™ËˆmÉªsÉªti>Atomicity (/Ã¦t.É™ËˆmÉªs.Éª.ti/)</a></li>
<li><a href=#isolation>Isolation</a>
<ul>
<li><a href=#read-phenomena>Read phenomena</a></li>
<li><a href=#isolation-levels-for-inflight-transaction-performance-sáº½-bá»‹-giáº£m-dáº§n-theo-cÃ¡c-levels-dÆ°á»›i-Ä‘Ã¢y-cÃ²n-Ä‘á»™-phá»©c-táº¡p-thÃ¬-ngÆ°á»£c-láº¡i>Isolation levels for inflight transaction: performance sáº½ bá»‹ giáº£m dáº§n theo cÃ¡c levels dÆ°á»›i Ä‘Ã¢y cÃ²n Ä‘á»™ phá»©c táº¡p thÃ¬ ngÆ°á»£c láº¡i.</a></li>
</ul>
</li>
<li><a href=#consistency>Consistency</a>
<ul>
<li><a href=#consistency-in-dat>Consistency in Dat</a></li>
<li><a href=#consistency-in-reads>Consistency in reads</a></li>
</ul>
</li>
<li><a href=#durability>Durability</a></li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=%2fposts%2fdatabases%2facid-in-dbms%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=%2fposts%2fdatabases%2facid-in-dbms%2f&text=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=%2fposts%2fdatabases%2facid-in-dbms%2f&title=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2fdatabases%2facid-in-dbms%2f&is_video=false&description=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u&body=Check out this article: %2fposts%2fdatabases%2facid-in-dbms%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=%2fposts%2fdatabases%2facid-in-dbms%2f&title=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=%2fposts%2fdatabases%2facid-in-dbms%2f&title=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=%2fposts%2fdatabases%2facid-in-dbms%2f&name=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u&description=Transaction%20l%c3%a0%20m%e1%bb%99t%20%c4%91%c6%a1n%20v%e1%bb%8b%20logic%20n%c3%b3%20th%e1%bb%b1c%20hi%e1%bb%87n%20vi%e1%bb%87c%20truy%20xu%e1%ba%a5t%20v%c3%a0%20ch%e1%bb%89nh%20s%e1%bb%ada%20n%e1%bb%99i%20dung%20c%e1%bb%a7a%20database.%20%c4%90%e1%bb%83%20duy%20tr%c3%ac%20t%c3%adnh%20th%e1%bb%91ng%20nh%e1%ba%a5t%20c%e1%ba%a3%20database%20tr%c6%b0%e1%bb%9bc%20v%c3%a0%20sau%20khi%20th%e1%bb%b1c%20hi%e1%bb%87n%20transaction%20th%c3%ac%20c%e1%ba%a7n%20tu%c3%a2n%20theo%20m%e1%bb%99t%20s%e1%bb%91%20t%c3%adnh%20ch%e1%ba%a5t%20v%c3%a0%20%c4%91%c6%b0%e1%bb%a3c%20vi%e1%ba%bft%20t%e1%ba%aft%20l%c3%a0%20ACID%0aAtomicity%20%28%2f%c3%a6t.%c9%99%cb%88m%c9%aas.%c9%aa.ti%2f%29%20Y%c3%aau%20c%e1%ba%a7u%20transaction%20ph%e1%ba%a3i%20th%e1%bb%b1c%20hi%e1%bb%87n%201%20c%c3%a1ch%20ho%c3%a0n%20ch%e1%bb%89nh%20ho%e1%ba%b7c%20l%c3%a0%20kh%c3%b4ng%20th%e1%bb%b1c%20hi%e1%bb%87n%2c%20ch%e1%bb%a9%20kh%c3%b4ng%20c%c3%b3%20vi%e1%bb%87c%20ch%e1%bb%89%20th%e1%bb%b1c%20hi%e1%bb%87n%201%20ph%e1%ba%a7n." aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=%2fposts%2fdatabases%2facid-in-dbms%2f&t=ACID%20trong%20c%c6%a1%20s%e1%bb%9f%20d%e1%bb%af%20li%e1%bb%87u" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021 ducnguyen96
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/posts>Writings</a></li>
<li><a href=/categories>Categories</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/projects/cv>CV</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>
</html>
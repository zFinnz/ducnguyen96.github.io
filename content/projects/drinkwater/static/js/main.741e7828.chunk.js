(this.webpackJsonpDrinkWater=this.webpackJsonpDrinkWater||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(72),i=n.n(a),c=(n(93),n(2)),r=n.n(c),s=n(9),o=n(7),l=n(43);var d=n(4),j=n(80),u=n(0),b=function(e){var t=e.lazy,n=Object(j.a)(e,["lazy"]);return Object(u.jsx)(c.Suspense,{fallback:Object(u.jsx)("p",{children:"Loading"}),children:Object(u.jsx)(t,Object(d.a)({},n))})},O=function(e){var t=Object.assign({},e);return Object(u.jsx)(b,Object(d.a)({lazy:Object(c.lazy)((function(){return n.e(3).then(n.bind(null,128))}))},t))},g=n(78),m=n(75),v=Object(c.memo)((function(){var e=!!Object(l.a)(),t=Object(c.useState)(e),n=Object(s.a)(t,2),a=n[0],i=n[1];return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)(m.a,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{path:"/login",render:function(){return Object(u.jsx)(O,{setLogin:i})},exact:!0}),Object(u.jsx)(o.b,{path:"/",render:function(){return a?Object(u.jsx)(g.default,{}):Object(u.jsx)(o.a,{to:"/login"})}}),Object(u.jsx)(o.a,{path:"/login",to:"/login"}),Object(u.jsx)(o.a,{path:"*",to:"/404"})]})})})})),h=n(44),p=Object(c.memo)((function(){return Object(h.b)({fetchPolicy:"network-only",errorPolicy:"ignore"}).loading?Object(u.jsx)("p",{children:"Loading"}):Object(u.jsx)(v,{})})),f=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,127)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))},x=n(107),k=n(79),y=n(15),A=n(54),N=n(110),w=n(77),C=Object(k.a)({uri:"http://ducnguyen96.xyz/graphql"}),T=new y.ApolloLink((function(e,t){var n=e.getContext().headers;return e.setContext((function(){if(document.cookie){var e=document.cookie.split("=");if("accessToken"===e[0]){var t=e[1];return{headers:Object(d.a)(Object(d.a)({},n),{},{authorization:t?"Bearer ".concat(t):""})}}}})),t(e)})),_=new A.a({link:Object(y.from)([T,C]),cache:new N.a({possibleTypes:w.possibleTypes}),name:"drinkwater-client",version:"1.0",queryDeduplication:!1,defaultOptions:{watchQuery:{fetchPolicy:"cache-first"}},connectToDevTools:!1});i.a.render(Object(u.jsx)(x.a,{client:_,children:Object(u.jsx)(p,{})}),document.getElementById("root")),f()},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return l}));var a=function(e,t,n){var a="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),a="; expires="+i.toUTCString()}document.cookie=e+"="+t+a+"; path=/"},i=function(){document.cookie="accessToken=;expires=Thu, 01 Jan 1970 00:00:00 GMT",window.location.reload()},c=function(e){return e.toLowerCase().includes("iphone")},r=function(e){var t=new Date(e),n=t.getHours(),a=t.getMinutes();return"".concat(n>9?n:"0".concat(n),":").concat(a>9?a:"0".concat(a))},s=function(e,t,n){return e?"var(--toggle-icon-color)":new Date(t).getDate()===n?"var(--icon-color)":"var(--primary-color)"},o=function(e,t,n){return e?"white":new Date(t).getDate()===n?"#888":"white"},l=function(e){return new Date(e).getDate()}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(114),i=n(44);function c(){var e=Object(a.a)();try{var t=e.readQuery({query:i.a});return null===t||void 0===t?void 0:t.me}catch(n){return}}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a,i=n(4),c=n(22),r=n(29),s=n(111),o=(n(113),{}),l=Object(r.a)(a||(a=Object(c.a)(["\n  query me {\n    me {\n      id\n      username\n      avatar\n      remindMe\n      wakeUpTime\n      sleepTime\n      gender\n      weight\n      dailyIntake\n      containerImage\n      containerVolume\n      drinkAtATime\n      vapidKey\n      createdAt\n      updatedAt\n    }\n  }\n"])));function d(e){var t=Object(i.a)(Object(i.a)({},o),e);return s.a(l,t)}},77:function(e){e.exports=JSON.parse('{"possibleTypes":{"Node":["HistoryEntity","HistoryMetadataEntity","MessageEntity","RoomEntity","UserEntity"]}}')},78:function(e,t,n){"use strict";n.r(t);var a,i,c=n(4),r=n(9),s=n(2),o=n.n(s),l=(n(95),n(96),n(56));n(109);!function(e){e.UNAUTHORIZED="UNAUTHORIZED"}(a||(a={})),function(e){e.CONTAINER="CONTAINER",e.TIMER="TIMER"}(i||(i={}));var d,j,u,b=n(19),O=n(0),g=function(e){var t=e.metadata,n=e.today,a=e.handleOnclickActivator;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("section",{className:"section__activator",children:t.map((function(e,t){return Object(O.jsxs)("div",{className:"activator",children:[Object(O.jsx)("img",{className:"glass-of-water",src:"glass-of-water.png",alt:"glass-of-water",onClick:function(){return a({id:e.id,containerImage:e.containerImage,containerVolume:e.containerVolume,drinkAt:e.drinkAt,drinkAtATime:e.drinkAtATime,drankAt:e.drankAt},i.CONTAINER)}}),Object(O.jsxs)("span",{className:"water-quantity",children:[e.drinkAtATime," ml"]}),Object(O.jsxs)("div",{className:"activator__timer",style:{backgroundColor:Object(b.f)(!!e.drankAt,e.drinkAt,n),padding:Object(b.d)(e.drinkAt)===n||e.drankAt?".2rem .5rem .2rem .5rem":"0 0 0 .5rem"},children:[Object(O.jsx)("span",{style:{color:Object(b.e)(!!e.drankAt,e.drinkAt,n)},onClick:function(){return a({id:e.id,containerImage:e.containerImage,containerVolume:e.containerVolume,drinkAt:e.drinkAt,drinkAtATime:e.drinkAtATime,drankAt:e.drankAt},i.TIMER)},children:Object(b.c)(e.drankAt?e.drankAt:e.drinkAt)}),Object(O.jsx)("img",{className:"icon",src:"svg/chevron_big_right.svg",alt:"arrow-right",style:{display:Object(b.d)(e.drinkAt)===n||e.drankAt?"none":"unset"}})]})]},t)}))})})},m=(n(97),function(e){var t=e.defaultValue,n=e.display,a=e.onClickCancelModal,i=e.onClickSaveModal,c=Object(s.useState)(t),o=Object(r.a)(c,2),l=o[0],d=o[1];return Object(s.useEffect)((function(){d(t)}),[t]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"edit-modal",style:{bottom:n?"3rem":"-45rem"},children:[Object(O.jsxs)("div",{className:"top",children:[Object(O.jsx)("img",{src:"images/glass-of-water.png",alt:"water"}),Object(O.jsx)("input",{type:"time",id:"timer-input",required:!0,value:l,onChange:function(e){!function(e){d(e.target.value)}(e)}}),Object(O.jsx)("button",{onClick:function(){return i(l)},children:"Save"})]}),Object(O.jsx)("button",{onClick:function(){return a()},children:"Cancel"})]})})}),v=function(e){var t=e.goal,n=e.drank;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("section",{className:"section__footer",children:[Object(O.jsxs)("div",{className:"footer--left",children:[Object(O.jsxs)("span",{className:"footer__goal",children:["Goal: ",t," ml"]}),Object(O.jsx)("div",{className:"progress-bar",children:Object(O.jsx)("div",{className:"progress",style:{width:"".concat(n/t*100,"%")}})}),Object(O.jsxs)("span",{className:"footer__left",children:[t-n," ml left"]})]}),Object(O.jsxs)("div",{className:"footer--right",children:[Object(O.jsx)("img",{src:"svg/edit.svg",alt:"edit"}),Object(O.jsx)("span",{children:"Add"}),Object(O.jsx)("span",{children:"change"})]})]})})},h=function(e){var t=e.histories,n=e.today,a=e.handleOnclickDateCircle,i=e.selectedIndex;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("section",{className:"section__date-selector",children:t.map((function(e,t){var c="",r=new Date(e.createdAt).getDate();switch(!0){case n-r===1:c="yesterday";break;case n-r>1:c="before-yesterday";break;case n-r===-1:c="tomorrow";break;case n-r<-1:c="after-tomorrow";break;default:c="today"}return Object(O.jsxs)("div",{className:"date-circle","date-status":c,onClick:function(){return a(t)},"data-active":t===i,children:[Object(O.jsx)("div",{className:"circle-progress",style:{height:"".concat(e.progress/e.goal*100,"%")}}),Object(O.jsx)("span",{children:"Day"}),Object(O.jsx)("span",{children:t+1})]},t)}))})})},p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=function(e){var t=e.today,n=e.selectedDate,a=e.onClickOpenSettings,i=p[n.getMonth()],c=n.getDate();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("section",{className:"section__header",children:[Object(O.jsxs)("div",{className:"section__header--left",children:[t!==c&&Object(O.jsx)("img",{className:"icon",src:"svg/close_big.svg",alt:"cancel"}),Object(O.jsx)("span",{children:t===c?"Today":c+" "+i})]}),Object(O.jsxs)("div",{className:"section__header--right",children:[Object(O.jsx)("img",{className:"icon",src:"svg/bar_chart.svg",alt:"chart"}),Object(O.jsx)("img",{className:"icon",src:"svg/settings_filled.svg",alt:"settings_filled",onClick:function(){return a()}})]})]})})},x=n(22),k=n(29),y=n(124),A={},N=Object(k.a)(d||(d=Object(x.a)(["\n  mutation updateUserSetting($input: UpdateUserSettingInput!) {\n    updateUserSetting(input: $input) {\n      id\n      username\n      remindMe\n      wakeUpTime\n      sleepTime\n      gender\n      weight\n      dailyIntake\n      containerImage\n      containerVolume\n      drinkAtATime\n      vapidKey\n      createdAt\n      updatedAt\n    }\n  }\n"])));!function(e){e.MALE="MALE",e.FEMALE="FEMALE"}(j||(j={})),function(e){e.TECH="TECH",e.MUSIC="MUSIC"}(u||(u={}));n(101);var w,C,T=function(e){var t=e.display,n=e.handleCancelModal,a=e.handleOnOkModal;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"modal-wrapper",style:{display:t?"flex":"none"},children:Object(O.jsxs)("div",{className:"confirm-modal",children:[Object(O.jsx)("h3",{children:"Are you sure ?"}),Object(O.jsx)("p",{children:"Schedule will be resetting from tomorrow!"}),Object(O.jsxs)("div",{className:"modal-buttons",children:[Object(O.jsx)("button",{className:"cancel-modal-button",onClick:function(){n()},children:"Cancel"}),Object(O.jsx)("button",{className:"ok-modal-button",style:{backgroundColor:"var(--primary-color)",color:"var(--text-color--white)"},onClick:function(){a()},children:"OK"})]})]})})})},_=(n(102),function(e){var t=e.display,n=e.handleCloseSetting,a=e.user,i=Object(s.useState)(""),o=Object(r.a)(i,2),l=o[0],d=o[1],u=Object(s.useState)(""),g=Object(r.a)(u,2),m=g[0],v=g[1],h=Object(s.useState)(),p=Object(r.a)(h,2),f=p[0],x=p[1],k=Object(s.useState)(),w=Object(r.a)(k,2),C=w[0],_=w[1],S=Object(s.useState)(),I=Object(r.a)(S,2),M=I[0],D=I[1],E=Object(s.useState)(),U=Object(r.a)(E,2),H=U[0],F=U[1],R=Object(s.useState)(!1),V=Object(r.a)(R,2),K=V[0],L=V[1],q=Object(s.useState)(),z=Object(r.a)(q,2),B=z[0],J=z[1],P=Object(s.useState)(),$=Object(r.a)(P,2),G=$[0],Q=$[1],W=function(e){var t=Object(c.a)(Object(c.a)({},A),e);return y.a(N,t)}({onError:function(e){return console.log(e)},onCompleted:function(e){window.location.reload()}}),X=Object(r.a)(W,1)[0];Object(s.useEffect)((function(){d(Object(b.c)(null===a||void 0===a?void 0:a.wakeUpTime)),v(Object(b.c)(null===a||void 0===a?void 0:a.sleepTime)),x(null===a||void 0===a?void 0:a.gender),_(null===a||void 0===a?void 0:a.weight),D(null===a||void 0===a?void 0:a.dailyIntake),F(null===a||void 0===a?void 0:a.remindMe),J(null===a||void 0===a?void 0:a.drinkAtATime),Q(null===a||void 0===a?void 0:a.containerVolume)}),[a]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"settings",style:{right:t?"0":"-100vw"},children:[Object(O.jsx)("p",{className:"header",children:"Settings"}),Object(O.jsx)("img",{className:"icon",src:"svg/chevron_big_right--black.svg",alt:"arrow-right",onClick:function(){return n()}}),Object(O.jsxs)("div",{className:"setting_section",children:[Object(O.jsxs)("div",{className:"setting",children:[Object(O.jsx)("p",{children:"Remind me to drink water"}),Object(O.jsx)("div",{className:"setting_value",children:Object(O.jsxs)("label",{className:"switch",children:[Object(O.jsx)("input",{type:"checkbox",checked:H,onChange:function(){F(!H)}}),Object(O.jsx)("span",{className:"slider round"})]})})]}),Object(O.jsxs)("div",{className:"setting",children:[Object(O.jsx)("p",{children:"Wake up"}),Object(O.jsx)("div",{className:"setting_value",children:Object(O.jsx)("input",{type:"time",id:"timer-input",required:!0,value:l,onChange:function(e){return function(e){d(e.target.value)}(e)}})})]}),Object(O.jsxs)("div",{className:"setting",children:[Object(O.jsx)("p",{children:"Sleep"}),Object(O.jsx)("div",{className:"setting_value",children:Object(O.jsx)("input",{type:"time",id:"timer-input",required:!0,value:m,onChange:function(e){return function(e){v(e.target.value)}(e)}})})]})]}),Object(O.jsx)("div",{className:"setting_section",children:Object(O.jsxs)("div",{className:"setting",children:[Object(O.jsx)("p",{children:"Gender"}),Object(O.jsxs)("div",{className:"setting_value",children:[Object(O.jsx)("span",{onClick:function(){f===j.MALE?x(j.FEMALE):x(j.MALE)},children:f}),Object(O.jsx)("img",{className:"icon",src:"svg/chevron_big_right--black.svg",alt:"arrow-right"})]})]})}),Object(O.jsx)("div",{className:"setting_section",children:Object(O.jsxs)("div",{className:"setting",children:[Object(O.jsx)("p",{children:"Weight"}),Object(O.jsxs)("div",{className:"setting_value",children:[Object(O.jsx)("input",{type:"number",value:C,onChange:function(e){return function(e){_(e.target.value)}(e)}})," ",Object(O.jsx)("span",{children:"Kg"}),Object(O.jsx)("img",{className:"icon",src:"svg/chevron_big_right--black.svg",alt:"arrow-right"})]})]})}),Object(O.jsx)("div",{className:"setting_section",children:Object(O.jsxs)("div",{className:"setting",children:[Object(O.jsx)("p",{children:"Level of motivation"}),Object(O.jsxs)("div",{className:"setting_value",children:[Object(O.jsx)("span",{children:"Beginner"}),Object(O.jsx)("img",{className:"icon",src:"svg/chevron_big_right--black.svg",alt:"arrow-right"})]})]})}),Object(O.jsxs)("div",{className:"setting_section",children:[Object(O.jsxs)("div",{className:"setting",children:[Object(O.jsx)("p",{children:"Daily intake"}),Object(O.jsxs)("div",{className:"setting_value",children:[Object(O.jsx)("input",{type:"number",value:M,onChange:function(e){return function(e){D(e.target.value)}(e)}}),Object(O.jsx)("span",{children:"ml"}),Object(O.jsx)("img",{className:"icon",src:"svg/chevron_big_right--black.svg",alt:"arrow-right"})]})]}),Object(O.jsxs)("div",{className:"setting",children:[Object(O.jsx)("p",{children:"Drink at a time"}),Object(O.jsxs)("div",{className:"setting_value",children:[Object(O.jsx)("input",{type:"number",value:B,onChange:function(e){return function(e){J(e.target.value)}(e)}}),Object(O.jsx)("span",{children:"ml"}),Object(O.jsx)("img",{className:"icon",src:"svg/chevron_big_right--black.svg",alt:"arrow-right"})]})]}),Object(O.jsxs)("div",{className:"setting",children:[Object(O.jsx)("p",{children:"Container Volume"}),Object(O.jsxs)("div",{className:"setting_value",children:[Object(O.jsx)("input",{type:"number",value:G,onChange:function(e){return function(e){Q(e.target.value)}(e)}}),Object(O.jsx)("span",{children:"ml"}),Object(O.jsx)("img",{className:"icon",src:"svg/chevron_big_right--black.svg",alt:"arrow-right"})]})]})]}),Object(O.jsx)("div",{className:"setting_section",children:Object(O.jsx)("div",{className:"setting",children:Object(O.jsx)("p",{children:"Hydration"})})}),Object(O.jsx)("div",{className:"setting_section",children:Object(O.jsx)("div",{className:"setting",children:Object(O.jsx)("p",{children:"My drinks"})})}),Object(O.jsxs)("div",{className:"setting_section",children:[Object(O.jsx)("div",{className:"setting",children:Object(O.jsx)("p",{children:"Rate the app"})}),Object(O.jsx)("div",{className:"setting",children:Object(O.jsx)("p",{children:"Feedback"})})]}),Object(O.jsxs)("div",{className:"setting_section",children:[Object(O.jsx)("div",{className:"setting",children:Object(O.jsx)("p",{children:"Terms and Conditions"})}),Object(O.jsx)("div",{className:"setting",children:Object(O.jsx)("p",{children:"Confidentiality"})})]}),Object(O.jsx)("button",{id:"saveSettings",onClick:function(){L(!0)},children:"Save"})]}),Object(O.jsx)(T,{display:K,handleCancelModal:function(){L(!1)},handleOnOkModal:function(){return function(){var e={dailyIntake:Number(M),gender:f,remindMe:H,weight:Number(C),sleepTime:null===a||void 0===a?void 0:a.sleepTime,wakeUpTime:null===a||void 0===a?void 0:a.wakeUpTime,containerVolume:Number(G),drinkAtATime:Number(B)},t=l.split(":"),n=Object(r.a)(t,2),i=n[0],c=n[1],s=m.split(":"),o=Object(r.a)(s,2),d=o[0],j=o[1],u=new Date(null===a||void 0===a?void 0:a.wakeUpTime);u.setHours(+i),u.setMinutes(+c);var b=new Date(null===a||void 0===a?void 0:a.sleepTime);b.setHours(+d),b.setMinutes(+j),e.wakeUpTime=u,e.sleepTime=b,X({variables:{input:e}})}()}})]})}),S={},I=Object(k.a)(w||(w=Object(x.a)(["\n  mutation updateHistoryMetadata($input: UpdateHistoryMetadataInput!) {\n    updateHistoryMetadata(input: $input) {\n      id\n      historyId\n      containerImage\n      containerVolume\n      drinkAtATime\n      drinkAt\n      drankAt\n      createdAt\n      updatedAt\n    }\n  }\n"])));var M={},D=Object(k.a)(C||(C=Object(x.a)(["\n  mutation updateUserVapidKey($vapidKey: String!) {\n    updateUserVapidKey(vapidKey: $vapidKey)\n  }\n"])));var E,U,H=n(111),F=(n(113),{}),R=Object(k.a)(E||(E=Object(x.a)(["\n  query getHistory {\n    getHistory {\n      id\n      userId\n      containerImage\n      containerVolume\n      goal\n      progress\n      drinkAtATime\n      createdAt\n      updatedAt\n    }\n  }\n"])));var V={},K=Object(k.a)(U||(U=Object(x.a)(["\n  query getHistoryMetadata($historyId: String!) {\n    getHistoryMetadata(historyId: $historyId) {\n      id\n      historyId\n      containerImage\n      containerVolume\n      drinkAtATime\n      drinkAt\n      drankAt\n      createdAt\n      updatedAt\n    }\n  }\n"])));var L,q=n(43),z=Object(b.a)(navigator.userAgent);z||(l.a.initializeApp({apiKey:"AIzaSyDeub1V35nG6gcS-hwjRBQxqFUs37upWTA",authDomain:"drinkwater-8bc6a.firebaseapp.com",projectId:"drinkwater-8bc6a",storageBucket:"drinkwater-8bc6a.appspot.com",messagingSenderId:"910438080317",appId:"1:910438080317:web:882ac30523048f3592ef54",measurementId:"G-SP6GNKBQFE"}),L=l.a.messaging());var B=(new Date).getDate(),J=!0,P=o.a.memo((function(){var e=Object(q.a)(),t=Object(s.useState)([]),n=Object(r.a)(t,2),a=n[0],o=n[1],l=Object(s.useState)(),d=Object(r.a)(l,2),j=d[0],u=d[1],p=Object(s.useState)(0),x=Object(r.a)(p,2),k=x[0],A=x[1],N=function(e){var t=Object(c.a)(Object(c.a)({},F),e);return H.a(R,t)}(),w=N.data,C=N.error,T=N.loading,E=Object(s.useState)(!1),U=Object(r.a)(E,2),P=U[0],$=U[1],G=Object(s.useState)(),Q=Object(r.a)(G,2),W=Q[0],X=Q[1],Y=Object(s.useState)(!1),Z=Object(r.a)(Y,2),ee=Z[0],te=Z[1];C&&C.graphQLErrors.forEach((function(e){var t,n;401===(null===(t=e.extensions)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.statusCode)&&Object(b.g)()}));var ne=Object(s.useState)([]),ae=Object(r.a)(ne,2),ie=ae[0],ce=ae[1],re=function(e){var t=Object(c.a)(Object(c.a)({},V),e);return H.a(K,t)}({variables:{historyId:(null===j||void 0===j?void 0:j.id)||"0"}}).data,se=function(e){var t=Object(c.a)(Object(c.a)({},S),e);return y.a(I,t)}({onError:function(e){return console.log(e)},onCompleted:function(e){if(e.updateHistoryMetadata.drankAt){var t=JSON.parse(JSON.stringify(a)),n=t[k];n.progress=n.progress+e.updateHistoryMetadata.drinkAtATime,o(t)}}}),oe=Object(r.a)(se,1)[0];Object(s.useEffect)((function(){if(w&&(o(w.getHistory),J)){J=!1;var e=w.getHistory.find((function(e){return new Date(e.createdAt).getDate()===B}));u(e);var t=w.getHistory.findIndex((function(t){return t.id===e.id}));A(t)}}),[w]),Object(s.useEffect)((function(){re&&ce(null===re||void 0===re?void 0:re.getHistoryMetadata)}),[re]);var le=0,de=(null===j||void 0===j?void 0:j.goal)||0;null===re||void 0===re||re.getHistoryMetadata.forEach((function(e){e.drankAt&&(le+=e.drinkAtATime)}));var je=function(e){var t=Object(c.a)(Object(c.a)({},M),e);return y.a(D,t)}({onError:function(e){return console.log(e)},onCompleted:function(e){window.localStorage.setItem("vapidKey",e.updateUserVapidKey),window.location.reload()}}),ue=Object(r.a)(je,1)[0];z||window.localStorage.getItem("vapidKey")||(console.log("Requesting permission..."),Notification.requestPermission().then((function(e){"granted"===e?(console.log("Notification permission granted."),L.getToken({vapidKey:"BI1u4QP6TwBnSzzH7BST_lyj8puXAww5p1jyENnCYNrMDRvuJDX4aX9DNAmuPUSFRhBl3lARC4uYfnpo-RtIKzU"}).then((function(e){console.log("currentToken :",e),ue({variables:{vapidKey:e}})}))):console.log("Unable to get permission to notify.")})));var be=function(){te(!ee)};return Object(O.jsx)(O.Fragment,{children:T?Object(O.jsx)("h2",{children:"Loading..."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f,{today:B,selectedDate:new Date(null===j||void 0===j?void 0:j.createdAt),onClickOpenSettings:function(){return be()}}),Object(O.jsx)(h,{histories:a,today:B,handleOnclickDateCircle:function(e){return function(e){u(a[e]),A(e)}(e)},selectedIndex:k}),Object(O.jsx)(g,{metadata:ie,today:B,handleOnclickActivator:function(e,t){return function(e,t){if(t===i.CONTAINER){if(new Date(e.drinkAt).getDate()!==B||e.drankAt)return;oe({variables:{input:Object(c.a)(Object(c.a)({},e),{},{drankAt:new Date})}})}else{if(e.drankAt)return;X(e),$(!0)}}(e,t)}}),Object(O.jsx)(v,{drank:le,goal:de}),Object(O.jsx)("div",{className:"overlay",style:{display:P?"block":"none"},onClick:function(){$(!1)}}),Object(O.jsx)(m,{display:P,defaultValue:Object(b.c)(null===W||void 0===W?void 0:W.drinkAt),onClickCancelModal:function(){$(!1)},onClickSaveModal:function(e){return function(e){$(!1);var t=W;if(t){var n=new Date(t.drinkAt);e.length<6&&(n.setHours(+e.slice(0,2)),n.setMinutes(+e.slice(3,5))),n.setSeconds(0),oe({variables:{input:Object(c.a)(Object(c.a)({},t),{},{drinkAt:n})}})}}(e)}}),Object(O.jsx)(_,{display:ee,handleCloseSetting:be,user:e})]})})}));t.default=P},93:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.741e7828.chunk.js.map